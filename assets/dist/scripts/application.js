!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=6)}([function(e,t,n){var i;i=n(1),window.onYouTubeIframeAPIReady=function(){return new i}},function(e,t,n){var i,o;n(5),o=n(2),i=function(){function e(e){var t,n,i;null==e&&(e=!0),n=this,n.videos=videos,n.shuffledVideos=n.shuffleArray(n.videos.concat([])),e&&(t=window.location.pathname.split("/"),t.indexOf("videos")>=0?(i=t[t.indexOf("videos")+1],n.createVideo(n.getVideoIndexBySlug(i)),n.hideVideos()):n.createVideo(0)),n.attachEvents(),n.createNav()}var t,n,i;return i=!1,t=null,n=null,e.prototype.getVideoIndexBySlug=function(e){var t,n,i,o;for(o=this.shuffledVideos,n=0,i=o.length;n<i;n++)if(t=o[n],t.slug===e)return this.shuffledVideos.indexOf(t)},e.prototype.createNav=function(){var e,t,n,i,o,r,u,s,d,a;for(a=document.querySelector(".videos"),t=document.createDocumentFragment(),u=this.videos,o=0,r=u.length;o<r;o++)d=u[o],n=document.createElement("a"),n.setAttribute("href",d.url),n.setAttribute("data-slug",d.slug),n.classList.add("video-link"),d.artist&&(e=document.createElement("span"),e.classList.add("artist"),e.innerHTML=d.artist,n.appendChild(e)),s=document.createElement("span"),s.classList.add("title"),s.innerHTML=d.title,n.appendChild(s),d.youtube&&(i=document.createElement("img"),i.setAttribute("src","http://img.youtube.com/vi/"+d.youtube+"/mqdefault.jpg"),i.setAttribute("height",100),n.appendChild(i)),t.appendChild(n);return a.appendChild(t)},e.prototype.attachEvents=function(){var e;return e=this,$(window).on("videoEnded",function(e){return function(){return e.videoEnded()}}(this)),$(document).on("click",".video-link",function(t){var n,i;return t.preventDefault(),i=this.getAttribute("data-slug"),n=e.getVideoIndexBySlug(i),e.createVideo(n,!0),e.hideVideos()}),$("#js-mute").on("click",function(){return t.toggleMute(),i=!i,this.classList.toggle("is-muted")}),$(".hide-videos").on("click",function(){return e.hideVideos()}),$(".show-videos").on("click",function(){return document.body.classList.remove("is-hiding-menu"),document.body.classList.remove("is-showing-info")}),$(".show-info").on("click",function(){return document.body.classList.toggle("is-showing-info")})},e.prototype.hideVideos=function(){return document.body.classList.add("is-hiding-menu")},e.prototype.createVideo=function(e,r){return null==r&&(r=!1),t&&t.destroy(),t=new o(this.shuffledVideos[e],i,r),n=e},e.prototype.nextVideo=function(){return this.createVideo(n+1)},e.prototype.videoEnded=function(){return n===this.shuffledVideos.length-1?this.createVideo(0):this.nextVideo()},e.prototype.shuffleArray=function(e){var t,n,i,o;for(t=void 0,o=void 0,n=void 0,i=e.length,t=0;t<i;)n=~~(Math.random()*(t+1)),o=e[t],e[t]=e[n],e[n]=o,t++;return e},e}(),e.exports=i},function(e,t){var n,i=function(e,t){return function(){return e.apply(t,arguments)}};n=function(){function e(e,n,o){this.video=e,null==o&&(o=!1),this.vimeoMessageReceived=i(this.vimeoMessageReceived,this),this.youtubeStateChange=i(this.youtubeStateChange,this),this.setVolume=i(this.setVolume,this),this.embed=i(this.embed,this),t=n,this.video.youtube?(u=this.video.youtube,r="youtube"):this.video.vimeo&&(u=this.video.vimeo,r="vimeo"),document.title=this.video.title,this.info(),this.embed(),o&&this.updateURL()}var t,n,o,r,u;return t=null,u=null,n=null,r=null,o=document.getElementById("player"),e.prototype.toggleMute=function(){return this.setVolume()},e.prototype.destroy=function(){if("youtube"===r)return n.destroy()},e.prototype.info=function(){var e,t,n;return n=document.querySelector(".video-title"),e=document.querySelector(".video-artist"),t=document.querySelector(".video-slug"),n.innerHTML=this.video.title,e.innerHTML=this.video.artist,t.innerHTML=this.video.slug},e.prototype.embed=function(){return o.innerHTML="","youtube"===r?this.createYoutube():"vimeo"===r?this.createVimeo():void 0},e.prototype.updateURL=function(){if(window.history&&window.history.pushState)return window.history.pushState({},document.title,this.video.url)},e.prototype.setVolume=function(){return t?"youtube"===r?n.setVolume(100):this.post("setVolume","1"):"youtube"===r?n.setVolume(0):this.post("setVolume","0"),t=!t},e.prototype.videoEnded=function(){return $(window).trigger("videoEnded")},e.prototype.createYoutube=function(){var e;return e=document.createElement("div"),o.appendChild(e),n=new YT.Player(e,{videoId:u,origin:window.location.origin,rel:0,playerVars:{showinfo:0,color:"white",rel:0,autoplay:1,iv_load_policy:3,controls:0},events:{onReady:this.youtubeReady,onStateChange:this.youtubeStateChange}})},e.prototype.youtubeReady=function(){return n.setVolume(t?0:100)},e.prototype.youtubeStateChange=function(e){if(e.data===YT.PlayerState.ENDED)return this.videoEnded()},e.prototype.post=function(e,t){var i,o;return i={method:e},o=n.getAttribute("src").split("?")[0],t&&(i.value=t),n.contentWindow.postMessage(JSON.stringify(i),o)},e.prototype.createVimeo=function(){var e,t;return t="http://player.vimeo.com/video/"+u+"?api=1&player_id=vimeoplayer&color=ffffff&autoplay=1&byline=0&portrait=0&title=0",e=document.createElement("iframe"),e.setAttribute("src",t),e.setAttribute("frameborder",0),e.setAttribute("width",500),e.setAttribute("height",281),e.setAttribute("webkitAllowFullScreen",!0),e.setAttribute("mozallowfullscreen",!0),e.setAttribute("allowFullScreen",!0),o.appendChild(e),n=e,this.setupVimeoEvents()},e.prototype.setupVimeoEvents=function(){return window.addEventListener("message",this.vimeoMessageReceived,!1)},e.prototype.vimeoMessageReceived=function(e){var n,i;switch(n=JSON.parse(e.data),n.event){case"ready":return i=t?"0":"1",this.post("addEventListener","finish"),this.post("setVolume",i);case"finish":return this.videoEnded()}},e}(),e.exports=n},function(e,t){e.exports='var Froogaloop = function () {\n  function e(a) {\n    return new e.fn.init(a);\n  }function g(a, c, b) {\n    if (!b.contentWindow.postMessage) return !1;a = JSON.stringify({ method: a, value: c });b.contentWindow.postMessage(a, h);\n  }function l(a) {\n    var c, b;try {\n      c = JSON.parse(a.data), b = c.event || c.method;\n    } catch (e) {}"ready" != b || k || (k = !0);if (!/^https?:\\/\\/player.vimeo.com/.test(a.origin)) return !1;"*" === h && (h = a.origin);a = c.value;var m = c.data,\n        f = "" === f ? null : c.player_id;c = f ? d[f][b] : d[b];b = [];if (!c) return !1;void 0 !== a && b.push(a);m && b.push(m);f && b.push(f);\n    return 0 < b.length ? c.apply(null, b) : c.call();\n  }function n(a, c, b) {\n    b ? (d[b] || (d[b] = {}), d[b][a] = c) : d[a] = c;\n  }var d = {},\n      k = !1,\n      h = "*";e.fn = e.prototype = { element: null, init: function (a) {\n      "string" === typeof a && (a = document.getElementById(a));this.element = a;return this;\n    }, api: function (a, c) {\n      if (!this.element || !a) return !1;var b = this.element,\n          d = "" !== b.id ? b.id : null,\n          e = c && c.constructor && c.call && c.apply ? null : c,\n          f = c && c.constructor && c.call && c.apply ? c : null;f && n(a, f, d);g(a, e, b);return this;\n    }, addEvent: function (a, c) {\n      if (!this.element) return !1;\n      var b = this.element,\n          d = "" !== b.id ? b.id : null;n(a, c, d);"ready" != a ? g("addEventListener", a, b) : "ready" == a && k && c.call(null, d);return this;\n    }, removeEvent: function (a) {\n      if (!this.element) return !1;var c = this.element,\n          b = "" !== c.id ? c.id : null;a: {\n        if (b && d[b]) {\n          if (!d[b][a]) {\n            b = !1;break a;\n          }d[b][a] = null;\n        } else {\n          if (!d[a]) {\n            b = !1;break a;\n          }d[a] = null;\n        }b = !0;\n      }"ready" != a && b && g("removeEventListener", a, c);\n    } };e.fn.init.prototype = e.fn;window.addEventListener ? window.addEventListener("message", l, !1) : window.attachEvent("onmessage", l);return window.Froogaloop = window.$f = e;\n}();'},function(e,t){e.exports=function(e){"undefined"!=typeof execScript?execScript(e):eval.call(null,e)}},function(e,t,n){n(4)(n(3))},function(e,t,n){e.exports=n(0)}]);